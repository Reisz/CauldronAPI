local function _load(name)
    shell.run(Cauldron.libDirectory(name))
end

local function _scan(dir)
    dir = dir .. "/"
    local files = fs.list(dir)
    for _, v in ipairs(files) do
        if fs.isDir(dir .. v) then
            _scan(dir .. v)
        else
            shell.run(dir .. v)
        end
    end
end

Cauldron._loaded = {}

function Cauldron.loadModule(name)
    if Cauldron._loaded[name] then return end
    _scan(Cauldron.libDirectory("") .. name)
    Cauldron._loaded[name] = true
end

_load("middleclass")
Cauldron.loadModule("CCore")
